!function(a){var b=0;a.UI.Base=function(c){a.Listener.call(this),a.Tree.call(this),this.yccClass=a.UI.Base,this.id=b++,this.name="",this.ctx=null,this.rect=new a.Math.Rect,this.anchorX=0,this.anchorY=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.rectBgColor="transparent",this.rectBgAlpha=1,this.show=!0,this.lineWidth=1,this.fillStyle="black",this.strokeStyle="black",this.belongTo=null,this.userData=null,this.baseUI=null,this.beforeInit=null,this.afterInit=null,this.oncomputestart=null,this.oncomputeend=null,this.onrenderstart=null,this.onrenderend=null,this.extend(c)},a.utils.mergeObject(a.UI.Base.prototype,a.Listener.prototype),a.utils.mergeObject(a.UI.Base.prototype,a.Tree.prototype),a.UI.Base.prototype.init=function(b){a.utils.isFn(this.beforeInit)&&this.beforeInit(),this.belongTo=b,this.ctx=b.ctx,this.baseUI=new a.UI(b.canvasDom),this.computeUIProps(),a.utils.isFn(this.afterInit)&&this.afterInit()},a.UI.Base.prototype.computeUIProps=function(){},a.UI.Base.prototype.renderRectBgColor=function(){var a=this.getAbsolutePosition();this.ctx.save(),this.ctx.globalAlpha=this.rectBgAlpha,this.ctx.fillStyle=this.rectBgColor,this.ctx.beginPath(),this.ctx.rect(a.x,a.y,a.width,a.height),this.ctx.closePath(),this.ctx.fill(),this.ctx.restore()},a.UI.Base.prototype.removeSelf=function(){this.belongTo.removeUI(this)},a.UI.Base.prototype.addChild=function(a){return this.belongTo&&a.init(this.belongTo),this.addChildTree(a),this},a.UI.Base.prototype.scaleAndRotate=function(){this.ctx.scale(this.scaleX,this.scaleY),this.ctx.translate(this.anchorX+this.rect.x,this.anchorY+this.rect.y),this.ctx.rotate(this.rotation*Math.PI/180),this.ctx.translate(-this.anchorX-this.rect.x,-this.anchorY-this.rect.y)},a.UI.Base.prototype.render=function(a){},a.UI.Base.prototype._renderContainer=function(){var a=this.rect;this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#ff0000",this.ctx.rect(a.x,a.y,a.width,a.height),this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},a.UI.Base.prototype.__render=function(b){this.triggerListener("computestart",new a.Event("computestart")),this.computeUIProps(),this.triggerListener("computeend",new a.Event("computeend")),this.renderRectBgColor(),this.belongTo.yccInstance.config.debug.drawContainer&&this._renderContainer(),this.triggerListener("renderstart",new a.Event("renderstart")),this.render(b),this.triggerListener("renderend",new a.Event("renderend"))},a.UI.Base.prototype.getMaxContentInWidth=function(a,b){var c=a,d=0;if(this.ctx.measureText(a).width<=b)return a;for(var e=0;e<a.length;e++)if(c=a.slice(0,e+1),d=this.ctx.measureText(c).width,d>b)return a.slice(0,e)},a.UI.Base.prototype.extend=function(a){a=a||{};for(var b in this)"undefined"!=typeof a[b]&&(this[b]=a[b]);return this},a.UI.Base.prototype.clone=function(){var a=new this.yccClass;return a.extend(this),a},a.UI.Base.prototype.getAbsolutePosition=function(){var b=new a.Math.Rect,c=this.getParent();if(b.width=this.rect.width,b.height=this.rect.height,c){var d=c.getAbsolutePosition();b.x=this.rect.x+d.x,b.y=this.rect.y+d.y}else b.x=this.rect.x+this.belongTo.x,b.y=this.rect.y+this.belongTo.y;return b},a.UI.Base.prototype.transformToAbsolute=function(b){var c=null,d=this.getAbsolutePosition();if(a.utils.isArray(b)){c=[];for(var e=0;e<b.length;e++){var f=new a.Math.Dot(0,0),g=b[e];f.x=d.x+g.x,f.y=d.y+g.y,c.push(f)}return c}return c=new a.Math.Dot(0,0),c.x=d.x+b.x,c.y=d.y+b.y,c},a.UI.Base.prototype.transformToLocal=function(b){var c=null,d=this.getAbsolutePosition();if(a.utils.isArray(b)){c=[];for(var e=0;e<b.length;e++){var f=new a.Math.Dot(0,0),g=b[e];f.x=g.x-d.x,f.y=g.y-d.y,c.push(f)}return c}return c=new a.Math.Dot(0,0),c.x=b.x-d.x,c.y=b.y-d.y,c}}(window.Ycc);
//# sourceMappingURL=Ycc.UI.Base.class.min.js.map