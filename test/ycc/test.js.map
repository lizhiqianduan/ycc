{
  "version": 3,
  "sources": ["../../ycc/YccMath.ts", "../../ycc/YccLayer.class.ts", "../../ycc/YccPolyfill.class.ts", "../../ycc/YccStage.class.ts", "../../ycc/YccUI.class.ts", "../../ycc/Ycc.class.ts", "test.ts"],
  "sourcesContent": ["\n/**\n * \u70B9\u7684\u5B9A\u4E49\n */\nexport class YccMathDot {\n  x: number\n  y: number\n  constructor (x?: number, y?: number) {\n    this.x = x ?? 0\n    this.y = y ?? 0\n  }\n\n  isEqual (dot: YccMathDot) {\n    return this.x === dot.x && this.y === dot.y\n  }\n\n  /**\n   * \u70B9\u662F\u5426\u5728\u67D0\u4E2A\u533A\u57DF\u5185\n   */\n  isInRect (rect: YccMathRect) {\n    return this.x >= rect.x && this.x <= rect.x + rect.width && this.y >= rect.y && this.y <= rect.y + rect.height\n  }\n\n  /**\n   * \u70B9\u7684\u52A0\u6CD5/\u70B9\u7684\u504F\u79FB\u91CF\n   * @param dot {YccMathDot} \u52A0\u7684\u70B9\n   * @return {YccMathDot} \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u70B9\n   */\n  plus (dot: YccMathDot) {\n    return new YccMathDot(this.x + dot.x, this.y + dot.y)\n  }\n\n  /**\n   * \u5C06\u5F53\u524D\u70B9\u7ED5\u53E6\u5916\u4E00\u4E2A\u70B9\u65CB\u8F6C\u4E00\u5B9A\u5EA6\u6570\n   * @param rotation  \u65CB\u8F6C\u89D2\u5EA6\n   * @param anchorDot  \u951A\u70B9\u5750\u6807\n   * @return \u65CB\u8F6C\u540E\u7684\u70B9\n   */\n  rotate (rotation: number, anchorDot?: YccMathDot) {\n    anchorDot = anchorDot ?? new YccMathDot(0, 0)\n    const dotX = this.x; const dotY = this.y; const anchorX = anchorDot.x; const anchorY = anchorDot.y\n    const dx = (dotX - anchorX) * Math.cos(rotation / 180 * Math.PI) - (dotY - anchorY) * Math.sin(rotation / 180 * Math.PI) + anchorX\n    const dy = (dotY - anchorY) * Math.cos(rotation / 180 * Math.PI) + (dotX - anchorX) * Math.sin(rotation / 180 * Math.PI) + anchorY\n    return new YccMathDot(dx, dy)\n  }\n\n  /**\n   * \u5224\u65AD\u4E09\u70B9\u662F\u5426\u5171\u7EBF\n   * @param dot1\n   * @param dot2\n   * @param dot3\n   */\n  static threeDotIsOnLine (dot1: YccMathDot, dot2: YccMathDot, dot3: YccMathDot) {\n    // \u5B58\u5728\u4F4D\u7F6E\u76F8\u540C\u70B9\u80AF\u5B9A\u5171\u7EBF\n    if (dot1.isEqual(dot2) || dot1.isEqual(dot3) || dot2.isEqual(dot3)) { return true }\n    // \u4E09\u4E2A\u70B9x\u4E00\u6837\n    if (dot1.x === dot2.x && dot2.x === dot3.x) { return true }\n    const k1 = Math.abs(dot1.y - dot2.y) / Math.abs(dot1.x - dot2.x)\n    const k2 = Math.abs(dot1.y - dot3.y) / Math.abs(dot1.x - dot3.x)\n    return k1 === k2\n  }\n}\n\n/**\n * \u533A\u57DF\u7684\u5B9A\u4E49\n */\nexport class YccMathRect {\n  x: number\n  y: number\n  width: number\n  height: number\n\n  constructor (x?: number, y?: number, width?: number, height?: number) {\n    /**\n     * \u5DE6\u4E0A\u89D2x\u5750\u6807\n     * @type {number}\n     */\n    this.x = x ?? 0\n    /**\n      * \u5DE6\u4E0A\u89D2y\u5750\u6807\n      * @type {number}\n      */\n    this.y = y ?? 0\n    /**\n      * \u533A\u57DF\u5BBD\n      * @type {number}\n      */\n    this.width = width ?? 0\n    /**\n      * \u533A\u57DF\u9AD8\n      * @type {number}\n      */\n    this.height = height ?? 0\n  }\n\n  /**\n   * \u5C06\u77E9\u5F62\u7684\u957F\u548C\u5BBD\u8F6C\u6362\u4E3A\u6B63\u6570\n   */\n  toPositive () {\n    const x0 = this.x\n    const y0 = this.y\n    const x1 = this.x + this.width\n    const y1 = this.y + this.height\n    this.x = x0 < x1 ? x0 : x1\n    this.y = y0 < y1 ? y0 : y1\n    this.width = Math.abs(this.width)\n    this.height = Math.abs(this.height)\n  }\n\n  /**\n   * \u83B7\u53D6\u533A\u57DF\u7684\u9876\u70B9\u5217\u8868\n   * @return {YccMathDot[]}\n   */\n  getVertices () {\n    return [\n      new YccMathDot(this.x, this.y),\n      new YccMathDot(this.x + this.width, this.y),\n      new YccMathDot(this.x + this.width, this.y + this.height),\n      new YccMathDot(this.x, this.y + this.height),\n      new YccMathDot(this.x, this.y)\n    ]\n  }\n\n  /**\n   * \u6839\u636E\u5411\u91CF\u66F4\u65B0\u9876\u70B9\u6570\u503C\n   * @param vertices\n   */\n  updateByVertices (vertices: Array<{ x: number, y: number }>) {\n    if (vertices.length !== 2) { console.error('\u6570\u7EC4\u53C2\u6570\u6709\u95EE\u9898\uFF01'); return false }\n    this.x = vertices[0].x\n    this.y = vertices[0].y\n    this.width = vertices[1].x - this.x\n    this.height = vertices[2].y - this.y\n    return true\n  }\n}\n\n/**\n   * \u5411\u91CF\u6784\u9020\u51FD\u6570\n   * @constructor\n   */\nexport class YccMathVector {\n  x: number\n  y: number\n  z: number\n  constructor (x?: number, y?: number, z?: number) {\n    this.x = x ?? 0\n    this.y = y ?? 0\n    this.z = z ?? 0\n  }\n\n  /**\n     * \u5411\u91CF\u7684\u70B9\u4E58\u6CD5\n     * @param v2 {Ycc.Math.Vector} \u70B9\u4E58\u5411\u91CF\n     * @return {number}\n     */\n  dot (v2: YccMathVector) {\n    return this.x * v2.x + this.y * v2.y + this.z * v2.z\n  }\n\n  /**\n     * \u5411\u91CF\u7684\u53C9\u4E58\u6CD5\n     * @param v2 {Ycc.Math.Vector} \u53C9\u4E58\u5411\u91CF\n     * @return {number}\n     */\n  cross (v2: YccMathVector) {\n    const res = new YccMathVector()\n    res.x = this.y * v2.z - v2.y * this.z\n    res.y = v2.x * this.z - this.x * v2.z\n    res.z = this.x * v2.y - v2.x * this.y\n    return res\n  }\n\n  /**\n   * \u83B7\u53D6\u5411\u91CF\u7684\u6A21\u957F\n   * @return {number}\n   */\n  getLength () {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)\n  }\n}\n\n/**\n   * \u77E9\u9635\u7684\u6784\u9020\u65B9\u6CD5\u3002\n   * @param data  {array}    \u77E9\u9635\u6240\u6709\u884C\u62FC\u63A5\u7684\u6570\u7EC4\n   * @param m    {number}  \u884C\u6570\n   * @param n    {number}  \u5217\u6570\n   * @constructor\n   */\nexport class YccMathMatrix {\n  data: number[]\n  m: number\n  n: number\n  constructor (data?: number[], m?: number, n?: number) {\n    this.data = data ?? [] as number[]\n    this.m = m ?? 0\n    this.n = n ?? 0\n  }\n\n  /**\n   * \u77E9\u9635\u70B9\u4E58\u6CD5\n   * @param M  {Ycc.Math.Matrix}  \u53E6\u4E00\u4E2A\u77E9\u9635\n   */\n  dot (M: { m: any, n: any, get: (arg0: number, arg1: number) => number }) {\n    if (M.m !== this.n || M.n !== this.m) { console.error('\u4E24\u4E2A\u77E9\u9635\u7684\u884C\u6570\u548C\u5217\u6570\u4E0D\u5BF9\u5E94\uFF0C\u4E0D\u80FD\u76F8\u4E58\uFF01'); return }\n\n    const N = new YccMathMatrix([], this.m, this.m)\n    // \u5FAA\u73AF\u884C\n    for (let i = 1; i <= this.m; i++) {\n      // \u5FAA\u73AF\u77E9\u9635\u8D4B\u503C\n      for (let k = 1; k <= this.m; k++) {\n        let temp = 0\n        // \u5FAA\u73AF\u5217\n        for (let j = 1; j <= this.n; j++) {\n          temp += this.get(i, j) * M.get(j, k)\n        }\n        N.set(i, k, temp)\n      }\n    }\n    return N\n  }\n\n  /**\n   * \u83B7\u53D6\u77E9\u9635i\u884Cj\u5217\u7684\u5143\u7D20\u3002\n   * \u6CE8\uFF1Ai\uFF0Ci\u4E0B\u6807\u4ECE1\u5F00\u59CB\n   * @param i\n   * @param j\n   * @return {number}\n   */\n  get (i: number, j: number) {\n    return this.data[(i - 1) * this.n + j - 1]\n  }\n\n  /**\n   * \u8BBE\u7F6E\u77E9\u9635i\u884Cj\u5217\u7684\u5143\u7D20\u4E3Aval\n   * \u6CE8\uFF1Ai\uFF0Ci\u4E0B\u6807\u4ECE1\u5F00\u59CB\n   * @param i\n   * @param j\n   * @param val\n   */\n  set (i: number, j: number, val: any) {\n    this.data[(i - 1) * this.n + j - 1] = val\n  }\n}\n", "import { YccMathDot } from './YccMath'\nimport { YccStage } from './Ycc.class'\nimport YccUI from './YccUI.class'\n\n/**\n * \u56FE\u5C42\u7684\u5916\u90E8\u5C5E\u6027\n */\ninterface LayerOpt {\n  /**\n   * \u56FE\u5C42\u7684\u540D\u79F0\n   */\n  name: string\n  /**\n   * \u56FE\u5C42\u7684\u7C7B\u578B\uFF0C\u9ED8\u8BA4\u4E3A'ui'\n   */\n  type?: 'ui' | 'debug'\n\n  /**\n   * \u662F\u5426\u5141\u8BB8\u5E27\u52A8\u753B\u4E8B\u4EF6\u7684\u76D1\u542C\n   */\n  enableFrameEvent: boolean\n}\n\nexport default class YccLayer {\n  /**\n   * \u76F8\u5BF9\u4E8E\u821E\u53F0\u7684\u4F4D\u7F6E\uFF0C\u4EE5\u5DE6\u4E0A\u89D2\u4E3A\u51C6\n   */\n  position = new YccMathDot()\n\n  uiList: YccUI[]\n  ctx: CanvasRenderingContext2D\n  id: number\n  type: 'ui' | 'debug'\n  name: string\n\n  show: boolean\n  ghost: boolean\n  enableEventManager: boolean\n  enableFrameEvent: boolean\n  onFrameComing: () => void\n  stage: YccStage\n\n  constructor (stage: YccStage, option?: LayerOpt) {\n    /**\n     * \u56FE\u5C42\u6240\u5C5E\u7684\u821E\u53F0\n     */\n    this.stage = stage\n\n    /**\n     * \u5B58\u50A8\u56FE\u5C42\u4E2D\u7684\u6240\u6709UI\u3002UI\u7684\u987A\u5E8F\uFF0C\u5373\u4E3A\u56FE\u5C42\u4E2D\u7684\u6E32\u67D3\u987A\u5E8F\u3002\n     */\n    this.uiList = []\n\n    /**\n     * \u5F53\u524D\u56FE\u5C42\u7684\u7ED8\u56FE\u73AF\u5883\n     * @type {CanvasRenderingContext2D}\n     */\n    this.ctx = stage.createCanvasByStage().getContext('2d')!\n\n    /**\n     * \u56FE\u5C42id\n     */\n    this.id = layerIndex++\n\n    /**\n     * \u56FE\u5C42\u7C7B\u578B\u3002\n     * `ui`\u8868\u793A\u7528\u4E8E\u7ED8\u56FE\u7684\u56FE\u5C42\u3002`tool`\u8868\u793A\u8F85\u52A9\u7684\u5DE5\u5177\u56FE\u5C42\u3002`text`\u8868\u793A\u6587\u5B57\u56FE\u5C42\u3002\n     * \u9ED8\u8BA4\u4E3A`ui`\u3002\n     */\n    this.type = 'ui'\n\n    /**\n     * \u56FE\u5C42\u540D\u79F0\n     * @type {string}\n     */\n    this.name = ((option?.name) != null) ? option?.name : ('\u56FE\u5C42_' + this.type + '_' + this.id.toString())\n\n    /**\n     * \u56FE\u5C42\u662F\u5426\u663E\u793A\n     */\n    this.show = true\n\n    /**\n     * \u56FE\u5C42\u662F\u5426\u5E7D\u7075\uFF0C\u5E7D\u7075\u72B6\u6001\u7684\u56FE\u5C42\uFF0CgetUIFromPointer \u4F1A\u76F4\u63A5\u8DF3\u8FC7\u6574\u4E2A\u56FE\u5C42\n     * @type {boolean}\n     */\n    this.ghost = false\n\n    /**\n     * \u662F\u5426\u76D1\u542C\u821E\u53F0\u7684\u4E8B\u4EF6\u3002\u7528\u4E8E\u63A7\u5236\u821E\u53F0\u4E8B\u4EF6\u662F\u5426\u5E7F\u64AD\u81F3\u56FE\u5C42\u3002\u9ED8\u8BA4\u5173\u95ED\n     * @type {boolean}\n     */\n    this.enableEventManager = false\n\n    /**\n     * \u662F\u5426\u63A5\u6536\u6BCF\u5E27\u66F4\u65B0\u7684\u901A\u77E5\u3002\u9ED8\u8BA4\u4E3Afalse\n     * @type {boolean}\n     */\n    this.enableFrameEvent = false\n\n    /**\n     * \u82E5\u63A5\u6536\u901A\u77E5\uFF0C\u6B64\u51FD\u6570\u4E3A\u63A5\u6536\u901A\u77E5\u7684\u56DE\u8C03\u51FD\u6570\u3002\u5F53\u4E14\u4EC5\u5F53enableFrameEvent\u4E3Atrue\u65F6\u751F\u6548\n     * @type {function}\n     */\n    this.onFrameComing = function () { }\n  }\n\n  /**\n * \u6DFB\u52A0\u4E00\u4E2AUI\u56FE\u5F62\u81F3\u56FE\u5C42\n */\n  addUI (ui: YccUI) {\n    // \u5EFA\u7ACBui\u4E0Elayer\u7684\u4E92\u76F8\u5F15\u7528\u5173\u7CFB\n    ui.props.belongTo = this\n    this.uiList.push(ui)\n\n    return ui\n  }\n}\n\n// \u56FE\u5C42\u7684\u81EA\u589Eid\nlet layerIndex = 0\n// \u521B\u5EFA\u7684\u6240\u6709\u56FE\u5C42\nconst layerList: YccLayer[] = []\n\n/**\n * \u521B\u5EFA\u4E00\u4E2A\u56FE\u5C42\n * @param {YccStage} stage \u821E\u53F0\n * @param opt\n */\nexport function createLayer (stage: YccStage, opt?: LayerOpt) {\n  const layer = new YccLayer(stage, opt)\n  layerList.push(layer)\n  return layer\n}\n\n/**\n   * \u91CA\u653Elayer\u7684\u5185\u5B58\uFF0C\u7B49\u5F85GC\n   * \u5C06\u6240\u6709\u5F15\u7528\u5C5E\u6027\u7F6E\u4E3Anull\n   * @param layer\n   */\nexport function releaseLayer (layer: YccLayer) {\n  layer.uiList = []\n\n  layer.show = false\n\n  layer.enableEventManager = false\n\n  layer.enableFrameEvent = false\n\n  layer.onFrameComing = () => { }\n}\n\n/**\n * \u83B7\u53D6\u6240\u6709\u5DF2\u521B\u5EFA\u7684\u56FE\u5C42\n * @returns\n */\nexport function getAllLayer () {\n  return layerList\n}\n", "/**\n * \u6B64\u6587\u4EF6\u5B58\u50A8\u90A3\u4E9B\u9700\u8981\u6839\u636E\u73AF\u5883`ycc.appenv`\u517C\u5BB9\u591A\u4E2A\u7AEF\u7684\u51FD\u6570\u65B9\u6CD5\n * \u65B9\u6CD5\u540D\u5168\u90E8\u5C0F\u5199\n */\n\nimport Ycc from './Ycc.class'\n\nexport default class YccPolyfill {\n  /**\n   * \u5E94\u7528\u7684\u5B9E\u4F8B\n   */\n  yccInstance: Ycc\n\n  constructor (ycc: Ycc) {\n    this.yccInstance = ycc\n  }\n\n  /**\n   *\n   * @returns\n   */\n  _createImage (): HTMLImageElement {\n    if (this.yccInstance.config.appenv === 'wxapp') {\n      return this.yccInstance.stage.stageCanvas.createImage()\n    }\n    return new Image()\n  }\n\n  /**\n * \u65B0\u521B\u5EFAcanvas\n * @param options\n * @param options.width\n * @param options.height\n * @param options.dpi \u50CF\u7D20\u6BD4\n */\n  createCanvas (options: { width: number, height: number, dpi?: number }) {\n    const canvas = document.createElement('canvas')\n    const dpi = options.dpi ?? 2\n\n    // \u8BBE\u7F6Edpi\n    canvas.width = options.width * dpi\n    canvas.height = options.height * dpi\n    canvas.style.width = options.width.toString() + 'px'\n\n    // \u53BB\u96645px inline-block\u504F\u5DEE\n    canvas.style.display = 'block'\n    // \u8FD4\u56DE\u503C\n    return canvas\n  }\n}\n", "/**\n * \u821E\u53F0\u7C7B\uFF0C\u4E00\u4E2AYcc\u5E94\u7528\u6709\u4E14\u4EC5\u6709\u4E00\u4E2A\u821E\u53F0\uFF0C\u7528\u4E8E\u7ED8\u5236\n * \u821E\u53F0\u5305\u542B\u591A\u4E2A\u56FE\u5C42`Layer`\n */\n\nimport Ycc, { YccLayer } from './Ycc.class'\nimport { createLayer, getAllLayer } from './YccLayer.class'\n\nexport default class YccStage {\n  /**\n   * Ycc\u7684\u5F15\u7528\n   */\n  yccInstance: Ycc\n\n  /**\n   * \u821E\u53F0\u7684\u7ED8\u56FE\u73AF\u5883\n   */\n  stageCanvas: HTMLCanvasElement\n  stageCanvasCtx: CanvasRenderingContext2D\n\n  /**\n   * \u821E\u53F0\u7684\u9ED8\u8BA4\u56FE\u5C42\n   */\n  defaultLayer: YccLayer\n\n  /**\n   * \u821E\u53F0\u7684\u7EC8\u7AEF\u8BBE\u5907\u4FE1\u606F\n   */\n  stageInfo = this.getSystemInfo()\n\n  constructor (ycc: Ycc) {\n    this.yccInstance = ycc\n\n    // \u821E\u53F0\u521D\u59CB\u5316\n    this.stageCanvas = this.createCanvasByStage()\n    this.stageCanvasCtx = this.stageCanvas.getContext('2d')!\n\n    // \u521D\u59CB\u5316\u9ED8\u8BA4\u56FE\u5C42\n    this.defaultLayer = createLayer(this, { name: '\u821E\u53F0\u9ED8\u8BA4\u56FE\u5C42', enableFrameEvent: true })\n  }\n\n  clearStage () {\n    this.stageCanvasCtx.clearRect(0, 0, this.stageInfo.width, this.stageInfo.height)\n  }\n\n  /**\n   * \u6839\u636E\u821E\u53F0\u4FE1\u606F\uFF0C\u521B\u5EFA\u4E00\u4E2A\u8986\u76D6\u5168\u821E\u53F0\u7684canvas\n   */\n  createCanvasByStage () {\n    return this.yccInstance.polyfill.createCanvas({\n      ...this.stageInfo\n    })\n  }\n\n  /**\n   *\n   * @param dot\n   * @param uiIsShow\n   * @returns\n   */\n  // getUIFromPointer (dot: YccMathDot, uiIsShow: boolean) {\n  //   const self = this.ycc\n  //   uiIsShow = isBoolean(uiIsShow) ? uiIsShow : true\n  //   // \u4ECE\u6700\u672B\u4E00\u4E2A\u56FE\u5C42\u5F00\u59CB\u5BFB\u627E\n  //   for (let j = self.layerList.length - 1; j >= 0; j--) {\n  //     const layer = self.layerList[j]\n  //     // \u5E7D\u7075\u56FE\u5C42\uFF0C\u76F4\u63A5\u8DF3\u8FC7\n  //     if (layer.ghost) continue\n  //     if (uiIsShow && !layer.show) continue\n  //     const ui = layer.getUIFromPointer(dot, uiIsShow)\n  //     if (ui) { return ui }\n  //   }\n  //   return null\n  // }\n\n  /**\n   * \u83B7\u53D6\u7CFB\u7EDF\u4FE1\u606F\uFF1Adpi\u3001\u9AD8\u3001\u5BBD\uFF0C\u7B49\n   * @returns\n   */\n  getSystemInfo () {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n      dpi: window.devicePixelRatio ?? 1\n    }\n  }\n\n  /**\n   * \u7ED8\u5236\u6240\u6709\u56FE\u5C42\u7684\u6240\u6709\u5143\u7D20\n   */\n  renderAll () {\n    // \u5148\u6E05\u7A7A\u821E\u53F0\n    this.clearStage()\n    // \u904D\u5386\u6240\u6709\u56FE\u5C42\n    getAllLayer().forEach(layer => {\n      layer.uiList.forEach(ui => {\n        ui.render()\n      })\n\n      // \u5C06\u79BB\u5C4F\u56FE\u5C42\u7ED8\u5236\u5230\u821E\u53F0\u6765\n      this.stageCanvasCtx.drawImage(layer.ctx.canvas, 0, 0, this.stageInfo.width, this.stageInfo.height, 0, 0, this.stageInfo.width, this.stageInfo.height)\n    })\n  }\n}\n", "import YccLayer from './YccLayer.class'\nimport { YccMathDot, YccMathRect } from './YccMath'\n\n/**\n * UI\u7684\u5C5E\u6027\n */\ninterface YccUIProps {\n  /**\n    * UI\u6240\u5C5E\u7684\u56FE\u5C42\uFF0C\u82E5UI\u4E3A\u52A0\u5165\u56FE\u5C42\uFF0C\u6240\u6709\u4E0E\u7ED8\u5236\u76F8\u5173\u7684\u65B9\u6CD5\u5C06\u629B\u9519\n    */\n  belongTo?: YccLayer\n\n  /**\n        * \u7528\u6237\u81EA\u5B9A\u4E49\u7684\u6570\u636E\n        */\n  userData?: any\n\n  /**\n    * \u951A\u70B9\u5750\u6807\uFF0C\u662F\u4E00\u4E2A\u76F8\u5BF9\u5750\u6807\uFF0C\u9ED8\u8BA4\u4E3A(0,0)\uFF0C\u662F`coordinates`\u7684\u7B2C\u4E00\u4E2A\u70B9\n    */\n  anchor: YccMathDot\n  /**\n    * \u76F8\u5BF9\u4E8E\u951A\u70B9\u7684\u65CB\u8F6C\u89D2\u5EA6\n    * @type {number}\n    */\n  rotation: number\n\n  /**\n    * \u591A\u8FB9\u5F62\u56FE\u5F62\u7684\u5BB9\u7EB3\u533A\uFF0C\u70B9\u5750\u6807\u6570\u7EC4\uFF0C\u4E3A\u4FDD\u8BC1\u56FE\u5F62\u80FD\u591F\u95ED\u5408\uFF0C\u8D77\u70B9\u548C\u7EC8\u70B9\u5FC5\u987B\u76F8\u7B49\n    */\n  coordinates: YccMathDot[]\n  /**\n     * \u7ECF\u8FC7\u7F29\u653E\u3001\u65CB\u8F6C\u3001\u5E73\u79FB\u540E\uFF0CUI\u5728\u821E\u53F0\u7684\u771F\u5B9E\u7684\u5750\u6807\n     */\n  worldCoordinates: YccMathDot[]\n\n  /**\n      * \u662F\u5426\u663E\u793A\n      * @type {boolean}\n      */\n  show: boolean\n  /**\n      * \u662F\u5426\u5E7D\u7075\u72B6\u6001\uFF0C\u9ED8\u8BA4false\n      * \u5E7D\u7075\u72B6\u6001\u7684UI\uFF1A\u53EA\u80FD\u7528\u4E8E\u663E\u793A\uFF0C\u4E0D\u53EF\u70B9\u51FB\uFF0C\u4E8B\u4EF6\u4E5F\u4E0D\u4F1A\u89E6\u53D1\uFF0C\u5176\u5B50\u5143\u7D20\u7684\u4E8B\u4EF6\u4E5F\u4E0D\u4F1A\u89E6\u53D1\uFF0C\u4E0D\u80FD\u901A\u8FC7getUIFromPointer\u83B7\u53D6\n      * \u7528\u4E8E\u89E3\u51B3\u591A\u4E2AUI\u91CD\u53E0\u65F6\u662F\u5426\u9700\u8981\u7A7F\u900F\uFF0C\u4EE5\u70B9\u51FB\u88AB\u8986\u76D6UI\u7684\u95EE\u9898\n      * @type {boolean}\n      */\n  ghost: boolean\n  /**\n      * \u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4E3Atrue\uFF0CUI\u963B\u6B62\u4E8B\u4EF6\u5192\u6CE1\uFF0C\u4F46\u4E0D\u4F1A\u963B\u6B62\u4E8B\u4EF6\u4F20\u64AD\u7ED9\u56FE\u5C42\n      * @type {boolean}\n      */\n  stopEventBubbleUp: boolean\n\n  /**\n      * \u900F\u660E\u5EA6 \u9ED8\u8BA41\n      * @type {number}\n      */\n  opacity: number\n  /**\n       * \u7EBF\u6761\u5BBD\u5EA6 \u9ED8\u8BA41\n       * @type {number}\n       */\n  lineWidth: number\n\n  /**\n       * \u7EBF\u6761\u989C\u8272\uFF0C\u9ED8\u8BA4`black`\n       * @type {string}\n       */\n  strokeStyle: string\n\n  /**\n    * \u662F\u5426\u586B\u5145\uFF0C\u9ED8\u8BA4`true`\n    */\n  fill: boolean\n  /**\n    * \u586B\u5145\u6837\u5F0F\uFF0C\u9ED8\u8BA4'black'\n    */\n  fillStyle: string\n}\n\n/**\n   * \u591A\u8FB9\u5F62UI\n   * \u4F4D\u7F6E\u5750\u6807x\u3001y\u4E3A\u53EA\u8BFB\u5C5E\u6027\uFF0C\u4E14\u4E3A\u76F8\u5BF9\u5750\u6807\uFF0C\u9ED8\u8BA4\u53D6\u591A\u8FB9\u5F62\u7684\u7B2C\u4E00\u4E2A\u9876\u70B9\u5750\u6807\n   * @constructor\n   * @extends Ycc.UI.Base\n   * @param option       {object}         \u6240\u6709\u53EF\u914D\u7F6E\u7684\u914D\u7F6E\u9879\n   * @param option.fill    {boolean}   \u662F\u5426\u586B\u5145\u7ED8\u5236\uFF0Cfalse\u8868\u793A\u63CF\u8FB9\u7ED8\u5236\n   * @param option.coordinates   {Ycc.Math.Dot[]}    \u591A\u8FB9\u5F62\u70B9\u5750\u6807\u7684\u6570\u7EC4\uFF0C\u4E3A\u4FDD\u8BC1\u56FE\u5F62\u80FD\u591F\u95ED\u5408\uFF0C\u8D77\u70B9\u548C\u7EC8\u70B9\u5FC5\u987B\u76F8\u7B49\u3002\u6CE8\u610F\uFF1A\u70B9\u5217\u8868\u7684\u5750\u6807\u4E3A\u76F8\u5BF9\u5750\u6807\n   */\nexport default class YccUI {\n  /**\n   * UI\u7684\u5C5E\u6027\n   */\n  props: YccUIProps\n\n  /**\n   * UI\u7684\u6784\u9020\u51FD\u6570\n   * @param {Partial<YccUIProps>} option\n   */\n  constructor (option: Partial<YccUIProps> = {}) {\n    this.props = this._extendOption(option)\n  }\n\n  /**\n   * \u521D\u59CB\u5316UI\u5C5E\u6027\n   * @param option\n   */\n  private _extendOption (option: Partial<YccUIProps>) {\n    // ui\u7684\u9ED8\u8BA4\u503C\n    const defaultProps: YccUIProps = {\n      anchor: new YccMathDot(0, 0),\n      coordinates: [],\n      fill: true,\n      fillStyle: 'black',\n      ghost: false,\n      lineWidth: 1,\n      opacity: 1,\n      rotation: 0,\n      show: true,\n      stopEventBubbleUp: true,\n      strokeStyle: 'black',\n      worldCoordinates: []\n    }\n    return Object.assign(defaultProps, option)\n  }\n\n  /**\n   * \u5C06\u6B64UI\u6DFB\u52A0\u81F3\u56FE\u5C42\n   * @param layer\n   */\n  addToLayer (layer: YccLayer) {\n    layer.addUI(this)\n  }\n\n  /**\n   * \u6839\u636Ecoordinates\u7ED8\u5236\u8DEF\u5F84\n   * \u53EA\u7ED8\u5236\u8DEF\u5F84\uFF0C\u4E0D\u586B\u5145\u3001\u4E0D\u63CF\u8FB9\n   * \u7EE7\u627F\u7684\u5B50\u7C7B\u82E5\u4E0D\u662F\u591A\u8FB9\u5F62\uFF0C\u9700\u8981\u91CD\u8F7D\u6B64\u65B9\u6CD5\n   * \u6B64\u8FC7\u7A0B\u53EA\u4F1A\u53D1\u751F\u5728\u56FE\u5C42\u7684\u79BB\u5C4Fcanvas\u4E2D\n   */\n  renderPath () {\n    if (!this.props.belongTo) { console.log('\u8BE5UI\u672A\u52A0\u5165\u56FE\u5C42'); return }\n\n    if (this.props.coordinates.length === 0) { console.log('\u8BE5UI\u672A\u8BBE\u7F6E\u5750\u6807'); return }\n\n    // \u7ED8\u56FE\u73AF\u5883\n    const ctx = this.props.belongTo.ctx\n\n    // \u65CB\u8F6C\u540E\u7684\u70B9\n    const start = this.props.coordinates[0].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[0]))\n    ctx.beginPath()\n    ctx.moveTo(start.x, start.y)\n    for (let i = 0; i < this.props.coordinates.length - 1; i++) {\n      // \u65CB\u8F6C\u540E\u7684\u70B9\n      const dot = this.props.coordinates[i].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[i]))\n      ctx.lineTo(dot.x, dot.y)\n    }\n    ctx.closePath()\n  }\n\n  /**\n   * \u83B7\u53D6\u80FD\u5BB9\u7EB3\u591A\u8FB9\u5F62\u7684\u6700\u5C0F\u77E9\u5F62\u6846\n   * @returns {YccMathRect}\n   */\n  getWorldContainer () {\n    if (!this.props.belongTo) { console.log('\u8BE5UI\u672A\u52A0\u5165\u56FE\u5C42'); return }\n\n    const start = this.props.coordinates[0].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[0]))\n    let minx = start.x; let miny = start.y; let maxx = start.x; let maxy = start.y\n\n    for (let i = 0; i < this.props.coordinates.length - 1; i++) {\n      const dot = this.props.coordinates[i].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[i]))\n      if (dot.x < minx) minx = dot.x\n      if (dot.x >= maxx) maxx = dot.x\n      if (dot.y < miny) miny = dot.y\n      if (dot.y >= maxy) maxy = dot.y\n    }\n\n    return new YccMathRect(minx, miny, maxx - minx, maxy - miny)\n  }\n\n  /**\n   * \u91CD\u8F7D\u57FA\u7C7B\u7684\u5305\u542B\u67D0\u4E2A\u70B9\u7684\u51FD\u6570\uFF0C\u7528\u4E8E\u70B9\u51FB\u4E8B\u4EF6\u7B49\u7684\u54CD\u5E94\n   * \u4E24\u79CD\u65B9\u6CD5\uFF1A\n   * \u65B9\u6CD5\u4E00\uFF1A\u7ECF\u8FC7\u8BE5\u70B9\u7684\u6C34\u5E73\u5C04\u7EBF\u4E0E\u591A\u8FB9\u5F62\u7684\u7126\u70B9\u6570\uFF0C\u5373Ray-casting Algorithm\n   * \u65B9\u6CD5\u4E8C\uFF1A\u67D0\u4E2A\u70B9\u59CB\u7EC8\u4F4D\u4E8E\u591A\u8FB9\u5F62\u9006\u65F6\u9488\u5411\u91CF\u7684\u5DE6\u4FA7\u3001\u6216\u8005\u987A\u65F6\u9488\u65B9\u5411\u7684\u53F3\u4FA7\u5373\u53EF\u5224\u65AD\uFF0C\u7B97\u6CD5\u540D\u5FD8\u8BB0\u4E86\n   * \u6B64\u65B9\u6CD5\u91C7\u7528\u65B9\u6CD5\u4E00\uFF0C\u5E76\u5047\u8BBE\u8BE5\u5C04\u7EBF\u5E73\u884C\u4E8Ex\u8F74\uFF0C\u65B9\u5411\u4E3Ax\u8F74\u6B63\u65B9\u5411\n   * @param dot {Ycc.Math.Dot} \u9700\u8981\u5224\u65AD\u7684\u70B9\uFF0C\u7EDD\u5BF9\u5750\u6807\n   * @param noneZeroMode {Number} \u662F\u5426noneZeroMode 1--\u542F\u7528 2--\u5173\u95ED \u9ED8\u8BA4\u542F\u7528\n   *   \u4ECE\u8FD9\u4E2A\u70B9\u5F15\u51FA\u4E00\u6839\u201C\u5C04\u7EBF\u201D\uFF0C\u4E0E\u591A\u8FB9\u5F62\u7684\u4EFB\u610F\u82E5\u5E72\u6761\u8FB9\u76F8\u4EA4\uFF0C\u8BA1\u6570\u521D\u59CB\u5316\u4E3A0\uFF0C\u82E5\u76F8\u4EA4\u5904\u88AB\u591A\u8FB9\u5F62\u7684\u8FB9\u4ECE\u5DE6\u5230\u53F3\u5207\u8FC7\uFF0C\u8BA1\u6570+1\uFF0C\u82E5\u76F8\u4EA4\u5904\u88AB\u591A\u8FB9\u5F62\u7684\u8FB9\u4ECE\u53F3\u5230\u5DE6\u5207\u8FC7\uFF0C\u8BA1\u6570-1\uFF0C\u6700\u540E\u68C0\u67E5\u8BA1\u6570\uFF0C\u5982\u679C\u662F0\uFF0C\u70B9\u5728\u591A\u8FB9\u5F62\u5916\uFF0C\u5982\u679C\u975E0\uFF0C\u70B9\u5728\u591A\u8FB9\u5F62\u5185\n   * @return {boolean}\n   */\n  isContainDot (dot: YccMathDot, noneZeroMode?: 1 | 2) {\n    if (!this.props.belongTo) { console.log('\u8BE5UI\u672A\u52A0\u5165\u56FE\u5C42'); return }\n\n    // \u9ED8\u8BA4\u542F\u52A8none zero mode\n    noneZeroMode = noneZeroMode ?? 1\n\n    const _dot = dot\n\n    const x = _dot.x; const y = _dot.y\n    let crossNum = 0\n    // \u70B9\u5728\u7EBF\u6BB5\u7684\u5DE6\u4FA7\u6570\u76EE\n    let leftCount = 0\n    // \u70B9\u5728\u7EBF\u6BB5\u7684\u53F3\u4FA7\u6570\u76EE\n    let rightCount = 0\n    for (let i = 0; i < this.props.coordinates.length - 1; i++) {\n      const start = this.props.coordinates[i].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[i]))\n      const end = this.props.coordinates[i + 1].plus(this.props.belongTo.position).rotate(this.props.rotation, this.props.anchor.plus(this.props.belongTo.position).plus(this.props.coordinates[i + 1]))\n\n      // \u8D77\u70B9\u3001\u7EC8\u70B9\u659C\u7387\u4E0D\u5B58\u5728\u7684\u60C5\u51B5\n      if (start.x === end.x) {\n      // \u56E0\u4E3A\u5C04\u7EBF\u5411\u53F3\u6C34\u5E73\uFF0C\u6B64\u5904\u8BF4\u660E\u4E0D\u76F8\u4EA4\n        if (x > start.x) continue\n\n        // \u4ECE\u5DE6\u4FA7\u8D2F\u7A7F\n        if ((end.y > start.y && y >= start.y && y <= end.y)) {\n          leftCount++\n          // console.log('++1');\n          crossNum++\n        }\n        // \u4ECE\u53F3\u4FA7\u8D2F\u7A7F\n        if ((end.y < start.y && y >= end.y && y <= start.y)) {\n          rightCount++\n          // console.log('++1');\n          crossNum++\n        }\n        continue\n      }\n      // \u659C\u7387\u5B58\u5728\u7684\u60C5\u51B5\uFF0C\u8BA1\u7B97\u659C\u7387\n      const k = (end.y - start.y) / (end.x - start.x)\n      // \u4EA4\u70B9\u7684x\u5750\u6807\n      const x0 = (y - start.y) / k + start.x\n      // \u56E0\u4E3A\u5C04\u7EBF\u5411\u53F3\u6C34\u5E73\uFF0C\u6B64\u5904\u8BF4\u660E\u4E0D\u76F8\u4EA4\n      if (x > x0) continue\n\n      if ((end.x > start.x && x0 >= start.x && x0 <= end.x)) {\n      // console.log('++2');\n        crossNum++\n        if (k >= 0) leftCount++\n        else rightCount++\n      }\n      if ((end.x < start.x && x0 >= end.x && x0 <= start.x)) {\n      // console.log('++2');\n        crossNum++\n        if (k >= 0) rightCount++\n        else leftCount++\n      }\n    }\n\n    // console.log('polygon',dot,noneZeroMode,crossNum,crossNum%2,leftCount,rightCount);\n    return noneZeroMode === 1 ? leftCount - rightCount !== 0 : crossNum % 2 === 1\n  }\n\n  /**\n   * \u6E32\u67D3\u81F3ctx\uFF0C\u82E5UI\u7684\u6E32\u67D3\u8FC7\u7A0B\u4E0D\u540C\uFF0C\u5219\u6B64\u5904\u7684render\u65B9\u6CD5\u9700\u91CD\u5199\n   * @overwrite\n   */\n  render () {\n    console.log('render ui')\n    if (!this.props.belongTo) { console.log('\u8BE5UI\u672A\u52A0\u5165\u56FE\u5C42'); return }\n    if (!this.props.coordinates) { console.log('\u672A\u8BBE\u7F6E\u591A\u8FB9\u5F62\u7684\u9876\u70B9\u5750\u6807\uFF01'); return }\n    if (!this.props.show) return\n\n    const ctx = this.props.belongTo.ctx\n    ctx.save()\n    ctx.fillStyle = this.props.fillStyle\n    ctx.strokeStyle = this.props.strokeStyle\n    this.renderPath()\n    this.props.fill ? ctx.fill() : ctx.stroke()\n    ctx.restore()\n  }\n}\n", "import YccLayer from './YccLayer.class'\nimport YccPolyfill from './YccPolyfill.class'\nimport YccStage from './YccStage.class'\nimport YccUI from './YccUI.class'\n\nexport * from './YccMath'\n\nexport {\n  YccLayer,\n  YccStage,\n  YccUI\n}\n\n/**\n * \u6574\u4E2AYcc\u5E94\u7528\u7684\u914D\u7F6E\u9879\n */\ninterface YccConfig {\n\n  /**\n   * \u6574\u4E2A\u5E94\u7528\u6240\u8FD0\u884C\u7684\u73AF\u5883 \u9ED8\u8BA4\uFF1Ah5 <br> h5-\u666E\u901Aweb\u5E94\u7528\u3001wxapp-\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u3001wxgame-\u5FAE\u4FE1\u5C0F\u6E38\u620F\n   */\n  appenv: 'h5' | 'wxapp' | 'wxgame'\n\n  /**\n   * \u8C03\u8BD5\u53C2\u6570\uFF0C\u662F\u5426\u663E\u793A\u6240\u6709UI\u7684\u5BB9\u7EB3\u533A\u57DF\n   */\n  debugDrawContainer: boolean\n}\n\nexport default class Ycc {\n  /**\n   * \u521D\u59CB\u914D\u7F6E\n   */\n  config: YccConfig\n\n  /**\n   * \u821E\u53F0\uFF0C\u552F\u4E00\uFF0C\u4E00\u4E2A`Ycc`\u5BF9\u5E94\u4E00\u4E2A`Stage`\n   */\n  stage: YccStage\n\n  /**\n   * \u517C\u5BB9\u6A21\u5757\uFF0C\u517C\u5BB9wx\u548Ch5\n   */\n  polyfill: YccPolyfill\n\n  constructor (config?: Partial<YccConfig>) {\n    this.config = {\n      appenv: config?.appenv ?? 'h5',\n      debugDrawContainer: config?.debugDrawContainer ?? false\n    }\n    this.polyfill = new YccPolyfill(this)\n\n    this.stage = new YccStage(this)\n  }\n\n  /**\n   * \u5E94\u7528\u7684\u5165\u53E3\n   * @overwrite\n   */\n  main () {}\n}\n", "import Ycc, { YccMathDot, YccUI } from '../../ycc/Ycc.class'\n\n// const canvasDom = document.getElementById('canvas') as HTMLCanvasElement\n\nclass App extends Ycc {\n  main () {\n    document.getElementById('canvas')?.appendChild(this.stage.stageCanvas)\n    new YccUI({\n      coordinates: [\n        new YccMathDot(10, 10),\n        new YccMathDot(200, 10),\n        new YccMathDot(10, 200),\n        new YccMathDot(10, 10)\n      ]\n    }).addToLayer(this.stage.defaultLayer)\n    this.stage.renderAll()\n    // window.ycc = this\n  }\n}\n\nnew App().main()\n"],
  "mappings": "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",
  "names": []
}
